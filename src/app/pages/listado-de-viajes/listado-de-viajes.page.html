<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button default-href="/home-conductor" text="Volver"></ion-back-button>
    </ion-buttons>
    <ion-title>Listado de Viajesxdxdddxddx</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <!-- Lista de viajes pendientes para todos los usuarios -->
    <ion-row>
      <ion-col size="12">
        <ion-card *ngFor="let viaje of viajesPendientes">
          <ion-card-header>
            <ion-card-title>{{ viaje.origen }} → {{ viaje.destino }}</ion-card-title>
          </ion-card-header>

          <ion-card-content>
            <p><strong>Origen:</strong> {{ viaje.origen }}</p>
            <p><strong>Destino:</strong> {{ viaje.destino }}</p>
            <p><strong>Precio:</strong> ${{ viaje.precio }}</p>
            <p><strong>Pasajeros:</strong> {{ viaje.cantidadPasajeros }}</p>

            <!-- Botón "Tomar Viaje" si es pasajero -->
            <ion-button *ngIf="esPasajero" expand="full" color="success" (click)="tomarViaje(viaje)">
              Tomar Viaje
            </ion-button>

            <!-- Botón para eliminar viaje si es conductor -->
            <ion-button *ngIf="esConductor" color="danger" expand="full" (click)="terminarViaje(viaje.conductorCorreo)">
              Eliminar Viaje
            </ion-button>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>

    <!-- Lista de viajes aceptados para el conductor logueado -->
    <ion-row *ngIf="esConductor && viajesAceptados.length > 0">
      <ion-col size="12">
        <ion-card *ngFor="let viaje of viajesAceptados">
          <ion-card-header>
            <ion-card-title>{{ viaje.origen }} → {{ viaje.destino }}</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <p><strong>Origen:</strong> {{ viaje.origen }}</p>
            <p><strong>Destino:</strong> {{ viaje.destino }}</p>
            <p><strong>Precio:</strong> ${{ viaje.precio }}</p>
            <p><strong>Estado:</strong> {{ viaje.estado }}</p>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>

  </ion-grid>
</ion-content>
